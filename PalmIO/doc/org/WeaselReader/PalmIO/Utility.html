<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10) on Mon Jan 19 02:48:03 MST 2009 -->
<TITLE>
Utility
</TITLE>

<META NAME="date" CONTENT="2009-01-19">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Utility";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/WeaselReader/PalmIO/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Utility.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/WeaselReader/PalmIO/PalmDocDB.html" title="class in org.WeaselReader.PalmIO"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/WeaselReader/PalmIO/ZtxtDB.html" title="class in org.WeaselReader.PalmIO"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/WeaselReader/PalmIO/Utility.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Utility.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.WeaselReader.PalmIO</FONT>
<BR>
Class Utility</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.WeaselReader.PalmIO.Utility</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Utility</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
A class of utility methods primarily focused on manipulating data within
 Palm OS database files. There are methods for converting Palm ID values, Palm
 date values, reading/writing unsigned 32bit int values, and pretty-printing
 a byte array.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>$Id$</DD>
<DT><B>Author:</B></DT>
  <DD>John Gruenenfelder</DD>
</DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#Utility()">Utility</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#fromUInt32(byte[], int)">fromUInt32</A></B>(byte[]&nbsp;buf,
           int&nbsp;i)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert an unsigned 32 bit value (UInt32) to a long without losing the
 original unsigned value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#idToString(long)">idToString</A></B>(long&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert a Palm OS database 'ID' from a four byte value to a four character
 String so it can be printed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#printDataBlock(java.io.PrintStream, int, byte[], int, int, long)">printDataBlock</A></B>(java.io.PrintStream&nbsp;out,
               int&nbsp;bytesPerLine,
               byte[]&nbsp;data,
               int&nbsp;startOffset,
               int&nbsp;length,
               long&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Output a block of data in mixed hex/ASCII format.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#stringToID(java.lang.String)">stringToID</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert a String representation of a Palm OS database 'ID' back into a
 standard four byte literal value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#toPalmEpoch(java.util.Date)">toPalmEpoch</A></B>(java.util.Date&nbsp;time)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert a Java Date (which uses the standard UNIX time epoch) into a
 seconds count in the Palm epoch suitable for use in any of the time fields
 in the PalmDB class.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#toUInt32(long, byte[], int)">toUInt32</A></B>(long&nbsp;val,
         byte[]&nbsp;buf,
         int&nbsp;i)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Put an unsigned 32 bit value stored in a long into a byte array at the
 specified index.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.Date</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/WeaselReader/PalmIO/Utility.html#toUNIXEpoch(long)">toUNIXEpoch</A></B>(long&nbsp;palmTime)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert a Palm OS date (a long count of seconds) from the Palm OS epoch to
 a Date in the standard UNIX epoch.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Utility()"><!-- --></A><H3>
Utility</H3>
<PRE>
public <B>Utility</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="idToString(long)"><!-- --></A><H3>
idToString</H3>
<PRE>
public static java.lang.String <B>idToString</B>(long&nbsp;id)</PRE>
<DL>
<DD>Convert a Palm OS database 'ID' from a four byte value to a four character
 String so it can be printed. Use this to get a usable String from dbTypeID
 or dbCreatorID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the ID value to be converted.
<DT><B>Returns:</B><DD>a String representation of the given Palm database ID.</DL>
</DD>
</DL>
<HR>

<A NAME="stringToID(java.lang.String)"><!-- --></A><H3>
stringToID</H3>
<PRE>
public static long <B>stringToID</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Convert a String representation of a Palm OS database 'ID' back into a
 standard four byte literal value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the ID String to convert.
<DT><B>Returns:</B><DD>a four byte literal ID stored in a long.</DL>
</DD>
</DL>
<HR>

<A NAME="fromUInt32(byte[], int)"><!-- --></A><H3>
fromUInt32</H3>
<PRE>
public static long <B>fromUInt32</B>(byte[]&nbsp;buf,
                              int&nbsp;i)</PRE>
<DL>
<DD>Convert an unsigned 32 bit value (UInt32) to a long without losing the
 original unsigned value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>buf</CODE> - the array containing the value to be converted.<DD><CODE>i</CODE> - the index of the array element to be converted.
<DT><B>Returns:</B><DD>a converted UInt32 value stored in a long.</DL>
</DD>
</DL>
<HR>

<A NAME="toUInt32(long, byte[], int)"><!-- --></A><H3>
toUInt32</H3>
<PRE>
public static void <B>toUInt32</B>(long&nbsp;val,
                            byte[]&nbsp;buf,
                            int&nbsp;i)</PRE>
<DL>
<DD>Put an unsigned 32 bit value stored in a long into a byte array at the
 specified index.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>val</CODE> - a long containing a UInt32 value to be stored.<DD><CODE>buf</CODE> - the byte array in which to store the UInt32 value.<DD><CODE>i</CODE> - the index of the array element to store the new value in.</DL>
</DD>
</DL>
<HR>

<A NAME="toPalmEpoch(java.util.Date)"><!-- --></A><H3>
toPalmEpoch</H3>
<PRE>
public static long <B>toPalmEpoch</B>(java.util.Date&nbsp;time)</PRE>
<DL>
<DD>Convert a Java Date (which uses the standard UNIX time epoch) into a
 seconds count in the Palm epoch suitable for use in any of the time fields
 in the PalmDB class. <br>
 The Palm epoch is the same as the original Macintosh epoch<br>
 &nbsp;&nbsp; January 1, 1904 00:00:00 GMT<br>
 while the standard UNIX epoch is<br>
 &nbsp;&nbsp; January 1, 1970 00:00:00 GMT
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>time</CODE> - a point in time represented by a Java Date object.
<DT><B>Returns:</B><DD>the time parameter converted into a count of seconds from the
         standard Palm OS epoch.</DL>
</DD>
</DL>
<HR>

<A NAME="toUNIXEpoch(long)"><!-- --></A><H3>
toUNIXEpoch</H3>
<PRE>
public static java.util.Date <B>toUNIXEpoch</B>(long&nbsp;palmTime)</PRE>
<DL>
<DD>Convert a Palm OS date (a long count of seconds) from the Palm OS epoch to
 a Date in the standard UNIX epoch.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>palmTime</CODE> - a point in time expressed as a seconds count in the Palm OS
          epoch.
<DT><B>Returns:</B><DD>a Java Date object with the time converted to the UNIX epoch.</DL>
</DD>
</DL>
<HR>

<A NAME="printDataBlock(java.io.PrintStream, int, byte[], int, int, long)"><!-- --></A><H3>
printDataBlock</H3>
<PRE>
public static void <B>printDataBlock</B>(java.io.PrintStream&nbsp;out,
                                  int&nbsp;bytesPerLine,
                                  byte[]&nbsp;data,
                                  int&nbsp;startOffset,
                                  int&nbsp;length,
                                  long&nbsp;address)</PRE>
<DL>
<DD>Output a block of data in mixed hex/ASCII format.  Each line begins with
 the address offset for that particular line of data, followed by 16 data
 bytes output in hex, followed by those same bytes output in ASCII if the
 byte represents a printable character, otherwise a period is output.  This
 format was borrowed from the ncurses tool 'hexedit'.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>out</CODE> - the stream to output to, such as System.out for standard output.<DD><CODE>bytesPerLine</CODE> - the number of data bytes to print per line.  This
          value will be rounded down to a multiple of four.<DD><CODE>data</CODE> - the byte array containing the data to be printed.<DD><CODE>startOffset</CODE> - the offset in the data array at which to begin.<DD><CODE>length</CODE> - the number of bytes from the data array to print.<DD><CODE>address</CODE> - the memory address this block of data represents.  Or, just
          pass 0 for it to count from the beginning of the startOffset.
          This is only for readability and convenience and has no effect
          on how the data is output.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../org/WeaselReader/PalmIO/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Utility.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/WeaselReader/PalmIO/PalmDocDB.html" title="class in org.WeaselReader.PalmIO"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/WeaselReader/PalmIO/ZtxtDB.html" title="class in org.WeaselReader.PalmIO"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/WeaselReader/PalmIO/Utility.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Utility.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
